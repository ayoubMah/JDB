{% extends 'base.html.twig' %}

{% block title %}Admin Index{% endblock %}

{% block body %}
    <h1 class="text-2xl font-bold mb-4">Admins</h1>

    <div class="flex justify-between items-center mb-4">
        <a href="{{ path('app_admin_new') }}" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Create new</a>

        <form action="{{ path('app_admin_index') }}" method="get" class="flex items-center">
            <input type="text" name="q" placeholder="Search..." class="border rounded py-2 px-3 text-gray-700 mr-2">
            <button type="submit" class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded">Search</button>
        </form>
    </div>

    <table class="min-w-full bg-white shadow-md rounded my-6">
        <thead>
        <tr class="bg-gray-800 text-white uppercase text-sm leading-normal">
            <th class="py-3 px-6 text-left">ID</th>
            <th class="py-3 px-6 text-left">Username</th>
            <th class="py-3 px-6 text-center">Show</th>
            <th class="py-3 px-6 text-center">Edit</th>
            <th class="py-3 px-6 text-center">Delete</th>
        </tr>
        </thead>
        <tbody class="text-gray-600 text-sm font-light">
        {% for admin in admins %}
            <tr class="border-b border-gray-200 hover:bg-gray-100">
                <td class="py-3 px-6 text-left whitespace-nowrap">{{ admin.id }}</td>
                <td class="py-3 px-6 text-left">{{ admin.username }}</td>
                <td class="py-3 px-6 text-center">
                    <a href="{{ path('app_admin_show', {'id': admin.id}) }}" class="inline-block p-1" title="Show">
                        <svg class="w-6 h-6 text-green-500 hover:text-green-700"><use xlink:href="#icon-show"></use></svg>
                    </a>
                </td>
                <td class="py-3 px-6 text-center">
                    <a href="{{ path('app_admin_edit', {'id': admin.id}) }}" class="inline-block p-1" title="Edit">
                        <svg class="w-6 h-6 text-yellow-500 hover:text-yellow-700"><use xlink:href="#icon-edit"></use></svg>
                    </a>
                </td>
                <td class="py-3 px-6 text-center">
                    <form method="post" action="{{ path('app_admin_delete', {'id': admin.id}) }}" class="inline-block">
                        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ admin.id) }}">
                        <button class="p-1" onclick="return confirm('Are you sure?');" title="Delete">
                            <svg class="w-6 h-6 text-red-500 hover:text-red-700"><use xlink:href="#icon-delete"></use></svg>
                        </button>
                    </form>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="5" class="py-3 px-6 text-center">No admins found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    {# Include SVG definitions #}
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <symbol id="icon-show" viewBox="0 0 24 24">
            <path d="M15 12c0 1.654-1.346 3-3 3s-3-1.346-3-3 1.346-3 3-3 3 1.346 3 3zm9-.449s-4.252 8.449-11.985 8.449c-7.18 0-12.015-8.449-12.015-8.449s4.446-7.551 12.015-7.551c7.694 0 11.985 7.551 11.985 7.551zm-7 .449c0-2.757-2.243-5-5-5s-5 2.243-5 5 2.243 5 5 5 5-2.243 5-5z"/>
        </symbol>
        <symbol id="icon-edit" viewBox="0 0 24 24">
            <path d="M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z"/>
        </symbol>
        <symbol id="icon-delete" viewBox="0 0 24 24">
            <path d="M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z"/>
        </symbol>
    </svg>
{% endblock %}